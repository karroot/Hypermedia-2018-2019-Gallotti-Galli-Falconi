

<!doctype html>
<html lang="en">
   <head>
      <p>BackEnd Documentation</p>
   </head>
   <body>
      <p># Documentation of the Backend part <br>
         ## Links to other deliverables <br>
         - Deliverable D0: the web application is accessible at <br>
         [this address]
      <p><a href="https://mdgbookstore.herokuapp.com/">https://mdgbookstore.herokuapp.com/</a></p>
      <br>
      - Deliverable D2: the YAML or JSON file containing the specification of the app <br>
      API can be found at [this address]
      <p><a href="https://mdgbookstore.herokuapp.com/backend/spec.yaml">https://mdgbookstore.herokuapp.com/backend/spec.yaml</a> </p>
      <br>
      - Deliverable D3: the SwaggerUI page of the same API is available at <br>
      [this address]
      <p><a href="https://mdgbookstore.herokuapp.com/backend/swaggerui">https://mdgbookstore.herokuapp.com/backend/swaggerui</a></p>
      <br>
      - Deliverable D4: the address of the online source control repository is <br>
      available [this address]
      <p><a href="https://github.com/karroot/Hypermedia-2018-2019-Gallotti-Galli-Falconi">https://github.com/karroot/Hypermedia-2018-2019-Gallotti-Galli-Falconi</a> </p>
      <br>
      <br>
      <br>
      ## Specification <br>
      <br>### Web Architecture <br>
      <br>
      <br>
      <div class="mxgraph" style="max-width:100%;border:1px solid transparent;" data-mxgraph="{&quot;highlight&quot;:&quot;#0000ff&quot;,&quot;nav&quot;:true,&quot;resize&quot;:true,&quot;toolbar&quot;:&quot;zoom layers lightbox&quot;,&quot;edit&quot;:&quot;_blank&quot;,&quot;xml&quot;:&quot;&lt;mxfile modified=\&quot;2019-05-31T14:57:03.674Z\&quot; host=\&quot;www.draw.io\&quot; agent=\&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/9.3.1 Chrome/66.0.3359.181 Electron/3.0.6 Safari/537.36\&quot; etag=\&quot;1Sj7JkJDM1J9ZLcWuKS2\&quot; version=\&quot;10.7.1\&quot; type=\&quot;device\&quot;&gt;&lt;diagram name=\&quot;Page-1\&quot; id=\&quot;75ae5057-2f1f-a65a-41a6-c58fb5237df7\&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;&quot;}"></div>
      <script type="text/javascript" src="https://www.draw.io/js/viewer.min.js"></script>
      <br>
      <br>
      <br>
      <br>
      <br>### API <br>
      <br>#### REST compliance <br>
      - Uniform interface : we have decided to strictly follow the principle that states "A resource in the system should have only one logical URI and that should provide a way to fetch related or additional data."
      <br>
      -Client-Server :  client application and server application are able to evolve separately.
      <br>
      -Stateless : we have decided to not follow strictly this principle for the user session beacuse we preferred to check server-side if the user that ask for a particular action (ex. looking his own cart) the server check if the user that ask the action is the same logged and the cart that he want to see is his own.
      <br>
      -Cacheable : we didn't find the necessity to cache resources.
      <br>
      -Layered system : we didn't use a layered system because in our opinion it was not necessary.
      <br>
      <br>
      <br>#### OpenAPI Resource models <br>
      Describe here synthetically, which models you have introduced for resources. <br>
      <div style="color: #abb2bf; background-color: #282c34; font-family: Consolas, 'Courier New', monospace; font-weight: normal; font-size: 14px; line-height: 19px; white-space: pre;">User<br />Cart<br />Book<br />Review<br />Event<br />Author<br />CartItem<br />Amount<br />Currency<br />Genre<br />Theme</div>
      <br>
      <br>### Data model <br>
      Describe with an ER diagram the model used in the data layer of your web application. How these map to the OpenAPI data model? <br>
      <img src="/backend/ER.jpg" alt="ER">
      <br>
      <br>
      ## Implementation <br>
      <br>### Tools used <br>
      <div style="color: #abb2bf; background-color: #282c34; font-family: Consolas, 'Courier New', monospace; font-weight: normal; font-size: 14px; line-height: 19px; white-space: pre;">
         <div><span style="color: #e06c75;">"bcrypt"</span><span style="color: #abb2bf;">: </span><span style="color: #98c379;">"^3.0.6"</span><span style="color: #abb2bf;">,</span></div>
         <div><span style="color: #e06c75;">"connect"</span><span style="color: #abb2bf;">: </span><span style="color: #98c379;">"^3.2.0"</span><span style="color: #abb2bf;">,</span></div>
         <div><span style="color: #e06c75;">"cookie-parser"</span><span style="color: #abb2bf;">: </span><span style="color: #98c379;">"1.4.4"</span><span style="color: #abb2bf;">,</span></div>
         <div><span style="color: #e06c75;">"cookie-session"</span><span style="color: #abb2bf;">: </span><span style="color: #98c379;">"1.3.3"</span><span style="color: #abb2bf;">,</span></div>
         <div><span style="color: #e06c75;">"heroku-ssl-redirect"</span><span style="color: #abb2bf;">: </span><span style="color: #98c379;">"0.0.4"</span><span style="color: #abb2bf;">,</span></div>
         <div><span style="color: #e06c75;">"jquery"</span><span style="color: #abb2bf;">: </span><span style="color: #98c379;">"^3.4.1"</span><span style="color: #abb2bf;">,</span></div>
         <div><span style="color: #e06c75;">"js-yaml"</span><span style="color: #abb2bf;">: </span><span style="color: #98c379;">"^3.3.0"</span><span style="color: #abb2bf;">,</span></div>
         <div><span style="color: #e06c75;">"knex"</span><span style="color: #abb2bf;">: </span><span style="color: #98c379;">"^0.16.3"</span><span style="color: #abb2bf;">,</span></div>
         <div><span style="color: #e06c75;">"pg"</span><span style="color: #abb2bf;">: </span><span style="color: #98c379;">"7.8.2"</span><span style="color: #abb2bf;">,</span></div>
         <div><span style="color: #e06c75;">"swagger-tools"</span><span style="color: #abb2bf;">: </span><span style="color: #98c379;">"0.10.4"</span><span style="color: #abb2bf;">,</span></div>
         <div><span style="color: #e06c75;">"validator"</span><span style="color: #abb2bf;">: </span><span style="color: #98c379;">"^10.11.0"</span></div>
      </div>
     
      </p>
   </body>
</html>

